{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Quick acess\\\\Documents\\\\Codes\\\\React Native\\\\supreme-broccoli\\\\src\\\\pages\\\\UpdateUser.js\";\n\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Mytext from \"./components/Mytext\";\nimport Mytextinput from \"./components/Mytextinput\";\nimport Mybutton from \"./components/Mybutton\";\nimport { DatabaseConnection } from \"../database/database-connection\";\nvar db = DatabaseConnection.getConnection();\n\nvar UpdateUser = function UpdateUser(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputUserId = _useState2[0],\n      setInputUserId = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userName = _useState4[0],\n      setUserName = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userContact = _useState6[0],\n      setUserContact = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      userAddress = _useState8[0],\n      setUserAddress = _useState8[1];\n\n  var updateAllStates = function updateAllStates(name, contact, address) {\n    setUserName(name);\n    setUserContact(contact);\n    setUserAddress(address);\n  };\n\n  var searchUser = function searchUser() {\n    console.log(inputUserId);\n    db.transaction(function (tx) {\n      tx.executeSql('SELECT * FROM table_user where user_id = ?', [inputUserId], function (tx, results) {\n        var len = results.rows.length;\n\n        if (len > 0) {\n          var res = results.rows.item(0);\n          updateAllStates(res.user_name, res.user_contact, res.user_address);\n        } else {\n          alert('Usuário não encontrado!');\n          updateAllStates('', '', '');\n        }\n      });\n    });\n  };\n\n  var updateUser = function updateUser() {\n    console.log(inputUserId, userName, userContact, userAddress);\n\n    if (!inputUserId) {\n      alert('Por Favor informe o Código!');\n      return;\n    }\n\n    if (!userName) {\n      alert('Por favor informe o Nome !');\n      return;\n    }\n\n    if (!userContact) {\n      alert('Por Favor informe o Telefone !');\n      return;\n    }\n\n    if (!userAddress) {\n      alert('Por Favor informe o endereço !');\n      return;\n    }\n\n    db.transaction(function (tx) {\n      tx.executeSql('UPDATE table_user set user_name=?, user_contact=? , user_address=? where user_id=?', [userName, userContact, userAddress, inputUserId], function (tx, results) {\n        console.log('Results', results.rowsAffected);\n\n        if (results.rowsAffected > 0) {\n          Alert.alert('Sucesso', 'Usuário atualizado com sucesso !!', [{\n            text: 'Ok',\n            onPress: function onPress() {\n              return navigation.navigate('HomeScreen');\n            }\n          }], {\n            cancelable: false\n          });\n        } else alert('Erro ao atualizar o usuário');\n      });\n    });\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'white'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    keyboardShouldPersistTaps: \"handled\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    behavior: \"padding\",\n    style: {\n      flex: 1,\n      justifyContent: 'space-between'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, React.createElement(Mytext, {\n    text: \"Filtro de Usu\\xE1rio\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }), React.createElement(Mytextinput, {\n    placeholder: \"Entre com o C\\xF3digo do Usu\\xE1rio\",\n    style: {\n      padding: 10\n    },\n    onChangeText: function onChangeText(inputUserId) {\n      return setInputUserId(inputUserId);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }), React.createElement(Mybutton, {\n    title: \"Buscar Usu\\xE1rio\",\n    customClick: searchUser,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }), React.createElement(Mytextinput, {\n    placeholder: \"Entre com o Nome\",\n    value: userName,\n    style: {\n      padding: 10\n    },\n    onChangeText: function onChangeText(userName) {\n      return setUserName(userName);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }), React.createElement(Mytextinput, {\n    placeholder: \"Entre com o Telefone\",\n    value: '' + userContact,\n    onChangeText: function onChangeText(userContact) {\n      return setUserContact(userContact);\n    },\n    maxLength: 10,\n    style: {\n      padding: 10\n    },\n    keyboardType: \"numeric\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }), React.createElement(Mytextinput, {\n    value: userAddress,\n    placeholder: \"Entre com o Endere\\xE7o\",\n    onChangeText: function onChangeText(userAddress) {\n      return setUserAddress(userAddress);\n    },\n    maxLength: 225,\n    numberOfLines: 5,\n    multiline: true,\n    style: {\n      textAlignVertical: 'top',\n      padding: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }), React.createElement(Mybutton, {\n    title: \"Atualizar Usu\\xE1rio\",\n    customClick: updateUser,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default UpdateUser;","map":{"version":3,"names":["React","useState","Mytext","Mytextinput","Mybutton","DatabaseConnection","db","getConnection","UpdateUser","navigation","inputUserId","setInputUserId","userName","setUserName","userContact","setUserContact","userAddress","setUserAddress","updateAllStates","name","contact","address","searchUser","console","log","transaction","tx","executeSql","results","len","rows","length","res","item","user_name","user_contact","user_address","alert","updateUser","rowsAffected","Alert","text","onPress","navigate","cancelable","flex","backgroundColor","justifyContent","padding","textAlignVertical"],"sources":["D:/Quick acess/Documents/Codes/React Native/supreme-broccoli/src/pages/UpdateUser.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  View,\n  ScrollView,\n  KeyboardAvoidingView,\n  Alert,\n  SafeAreaView,\n  Text,\n} from 'react-native';\n\nimport Mytext from './components/Mytext';\nimport Mytextinput from './components/Mytextinput';\nimport Mybutton from './components/Mybutton';\nimport { DatabaseConnection } from '../database/database-connection';\n\nconst db = DatabaseConnection.getConnection();\n\nconst UpdateUser = ({ navigation }) => {\n  let [inputUserId, setInputUserId] = useState('');\n  let [userName, setUserName] = useState('');\n  let [userContact, setUserContact] = useState('');\n  let [userAddress, setUserAddress] = useState('');\n\n  let updateAllStates = (name, contact, address) => {\n    setUserName(name);\n    setUserContact(contact);\n    setUserAddress(address);\n  };\n\n  let searchUser = () => {\n    console.log(inputUserId);\n    db.transaction((tx) => {\n      tx.executeSql(\n        'SELECT * FROM table_user where user_id = ?',\n        [inputUserId],\n        (tx, results) => {\n          var len = results.rows.length;\n          if (len > 0) {\n            let res = results.rows.item(0);\n            updateAllStates(\n              res.user_name,\n              res.user_contact,\n              res.user_address\n            );\n          } else {\n            alert('Usuário não encontrado!');\n            updateAllStates('', '', '');\n          }\n        }\n      );\n    });\n  };\n  let updateUser = () => {\n    console.log(inputUserId, userName, userContact, userAddress);\n\n    if (!inputUserId) {\n      alert('Por Favor informe o Código!');\n      return;\n    }\n    if (!userName) {\n      alert('Por favor informe o Nome !');\n      return;\n    }\n    if (!userContact) {\n      alert('Por Favor informe o Telefone !');\n      return;\n    }\n    if (!userAddress) {\n      alert('Por Favor informe o endereço !');\n      return;\n    }\n\n    db.transaction((tx) => {\n      tx.executeSql(\n        'UPDATE table_user set user_name=?, user_contact=? , user_address=? where user_id=?',\n        [userName, userContact, userAddress, inputUserId],\n        (tx, results) => {\n          console.log('Results', results.rowsAffected);\n          if (results.rowsAffected > 0) {\n            Alert.alert(\n              'Sucesso',\n              'Usuário atualizado com sucesso !!',\n              [\n                {\n                  text: 'Ok',\n                  onPress: () => navigation.navigate('HomeScreen'),\n                },\n              ],\n              { cancelable: false }\n            );\n          } else alert('Erro ao atualizar o usuário');\n        }\n      );\n    });\n  };\n\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <View style={{ flex: 1, backgroundColor: 'white' }}>\n        <View style={{ flex: 1 }}>\n          <ScrollView keyboardShouldPersistTaps=\"handled\">\n            <KeyboardAvoidingView\n              behavior=\"padding\"\n              style={{ flex: 1, justifyContent: 'space-between' }}>\n              <Mytext text=\"Filtro de Usuário\" />\n              <Mytextinput\n                placeholder=\"Entre com o Código do Usuário\"\n                style={{ padding: 10 }}\n                onChangeText={\n                  (inputUserId) => setInputUserId(inputUserId)\n                }\n              />\n              <Mybutton\n                title=\"Buscar Usuário\"\n                customClick={searchUser}\n              />\n              <Mytextinput\n                placeholder=\"Entre com o Nome\"\n                value={userName}\n                style={{ padding: 10 }}\n                onChangeText={\n                  (userName) => setUserName(userName)\n                }\n              />\n              <Mytextinput\n                placeholder=\"Entre com o Telefone\"\n                value={'' + userContact}\n                onChangeText={\n                  (userContact) => setUserContact(userContact)\n                }\n                maxLength={10}\n                style={{ padding: 10 }}\n                keyboardType=\"numeric\"\n              />\n              <Mytextinput\n                value={userAddress}\n                placeholder=\"Entre com o Endereço\"\n                onChangeText={\n                  (userAddress) => setUserAddress(userAddress)\n                }\n                maxLength={225}\n                numberOfLines={5}\n                multiline={true}\n                style={{ textAlignVertical: 'top', padding: 10 }}\n              />\n              <Mybutton\n                title=\"Atualizar Usuário\"\n                customClick={updateUser}\n              />\n            </KeyboardAvoidingView>\n          </ScrollView>\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nexport default UpdateUser;"],"mappings":"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"},"metadata":{},"sourceType":"module"}